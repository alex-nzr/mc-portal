{"version":3,"file":"index.bundle.js","sources":["../src/scripts/main-ui.js","../src/index.js"],"sourcesContent":["//import {Event as EventBX} from 'main.core';\nimport {MessageBox, MessageBoxButtons} from 'ui.dialogs.messagebox';\n\nexport class MainUI\n{\n\tconstructor(options = {})\n\t{\n\t\tthis.options = options;\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\tthis.addEvents();\n\t\tthis.removeLockedCrmTabs();\n\t}\n\n\taddEvents()\n\t{\n\t\t/*EventBX.EventEmitter.subscribe('BX.Main.Popup:onShow', (event) => {\n\n\t\t})*/\n\n\t\tBX.addCustomEvent(\"SidePanel.Slider:onOpenComplete\", function(event) {\n\t\t\tif (event.slider?.url?.indexOf('/company/personal/user/') !== -1)\n\t\t\t{\n\t\t\t\tif (BX.type.isDomNode(event.slider?.layout?.container))\n\t\t\t\t{\n\t\t\t\t\tevent.slider.layout.container.style.maxWidth = 'none';\n\t\t\t\t\tevent.slider.layout.container.style.width = 'calc(100% - 50px)';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tBX.addCustomEvent(\"SidePanel.Slider:onLoad\", function(event) {\n\t\t\tif (event.slider?.url?.indexOf('/company/personal/user/') !== -1)\n\t\t\t{\n\t\t\t\tif (BX.type.isDomNode(event.slider?.layout?.container))\n\t\t\t\t{\n\t\t\t\t\tevent.slider.layout.container.style.maxWidth = 'none';\n\t\t\t\t\tevent.slider.layout.container.style.width = 'calc(100% - 50px)';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tshowErrorPopup(error) {\n\t\tif (!error)\n\t\t{\n\t\t\terror = 'Operation ERROR';\n\t\t}\n\n\t\tMessageBox.show(\n\t\t\t{\n\t\t\t\tmessage: `<div style=\"color: red;text-align: center;\">${error}</div>`,\n\t\t\t\tmodal: true,\n\t\t\t\tbuttons: MessageBoxButtons.CANCEL,\n\t\t\t\tcancelCaption: 'Got it',\n\t\t\t\tonCancel: (messageBox) => {\n\t\t\t\t\tmessageBox.close();\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n\n\tshowSuccessPopup (message = false){\n\t\tif (!message)\n\t\t{\n\t\t\tmessage = 'Operation successful';\n\t\t}\n\n\t\tMessageBox.show(\n\t\t\t{\n\t\t\t\tmessage: `<div style=\"text-align: center;\">${message}</div>`,\n\t\t\t\tmodal: true,\n\t\t\t\tbuttons: MessageBoxButtons.OK,\n\t\t\t\tonOk: (messageBox) => {\n\t\t\t\t\tmessageBox.close();\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n\n\tremoveLockedCrmTabs() {\n\t\tconst marketTabBtn = document.querySelector(`[data-id='crm_rest_marketplace']`);\n\t\tmarketTabBtn && marketTabBtn.remove();\n\t}\n}","import {MainUI} from './scripts/main-ui';\r\nimport './styles/style.css';\r\nimport {Extension} from 'main.core';\r\n\r\nBX.ready(() => {\r\n    try\r\n    {\r\n        BX.Cbit.Mc.Core.MainUI = new MainUI(Extension.getSettings('cbit.mc.core.main-ui'));\r\n    }\r\n    catch (e)\r\n    {\r\n        console.log('MainUI extension error - ', e)\r\n    }\r\n});"],"names":["MainUI","options","arguments","length","undefined","babelHelpers","classCallCheck","this","init","createClass","key","value","addEvents","removeLockedCrmTabs","BX","addCustomEvent","event","_event$slider","_event$slider$url","_event$slider2","_event$slider2$layout","slider","url","indexOf","type","isDomNode","layout","container","style","maxWidth","width","_event$slider3","_event$slider3$url","_event$slider4","_event$slider4$layout","error","MessageBox","show","message","concat","modal","buttons","MessageBoxButtons","CANCEL","cancelCaption","onCancel","messageBox","close","OK","onOk","marketTabBtn","document","querySelector","remove","ready","Cbit","Mc","Core","Extension","getSettings","e","console","log"],"mappings":"uHAGaA,aAEZ,SAAAA,IACA,IADYC,EAAOC,UAAAC,eAAAC,IAAAF,aAAAA,aAAG,GAAEG,aAAAC,oBAAAN,GAEvBO,KAAKN,QAAUA,EACfM,KAAKC,OA8EL,OA7EAH,aAAAI,YAAAT,IAAAU,WAAAC,iBAIAJ,KAAKK,YACLL,KAAKM,yBACLH,gBAAAC,iBAQAG,GAAGC,eAAe,mCAAmC,SAASC,GAAO,IAAAC,EAAAC,EAEpEC,EAAAC,GAD+D,aAA3DH,EAAAD,EAAMK,kBAAMJ,WAAAC,EAAZD,EAAcK,eAAGJ,SAAjBA,EAAmBK,QAAQ,8BAE1BT,GAAGU,KAAKC,kBAASN,EAACH,EAAMK,kBAAMF,WAAAC,EAAZD,EAAcO,kBAAMN,SAApBA,EAAsBO,aAE3CX,EAAMK,OAAOK,OAAOC,UAAUC,MAAMC,SAAW,OAC/Cb,EAAMK,OAAOK,OAAOC,UAAUC,MAAME,MAAQ,yBAK/ChB,GAAGC,eAAe,2BAA2B,SAASC,GAAO,IAAAe,EAAAC,EAE5DC,EAAAC,GAD+D,aAA3DH,EAAAf,EAAMK,kBAAMU,WAAAC,EAAZD,EAAcT,eAAGU,SAAjBA,EAAmBT,QAAQ,8BAE1BT,GAAGU,KAAKC,kBAASQ,EAACjB,EAAMK,kBAAMY,WAAAC,EAAZD,EAAcP,kBAAMQ,SAApBA,EAAsBP,aAE3CX,EAAMK,OAAOK,OAAOC,UAAUC,MAAMC,SAAW,OAC/Cb,EAAMK,OAAOK,OAAOC,UAAUC,MAAME,MAAQ,4BAI/CpB,qBAAAC,eAEcwB,GACTA,IAEJA,EAAQ,mBAGTC,aAAWC,KACV,CACCC,uDAAOC,OAAiDJ,YACxDK,OAAO,EACPC,QAASC,oBAAkBC,OAC3BC,cAAe,SACfC,SAAU,SAACC,GACVA,EAAWC,cAIdrC,uBAAAC,iBAEiC,IAAhB2B,EAAOpC,UAAAC,eAAAC,IAAAF,cAAAA,aACnBoC,IAEJA,EAAU,wBAGXF,aAAWC,KACV,CACCC,4CAAOC,OAAsCD,YAC7CE,OAAO,EACPC,QAASC,oBAAkBM,GAC3BC,KAAM,SAACH,GACNA,EAAWC,cAIdrC,0BAAAC,iBAGA,IAAMuC,EAAeC,SAASC,kDAC9BF,GAAgBA,EAAaG,aAC7BrD,KClFFc,GAAGwC,OAAM,WACL,IAEIxC,GAAGyC,KAAKC,GAAGC,KAAKzD,OAAS,IAAIA,EAAO0D,YAAUC,YAAY,yBAE9D,MAAOC,GAEHC,QAAQC,IAAI,4BAA6BF"}